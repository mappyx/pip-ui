<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pip UI Library - Terminal OS v1.1</title>
    <link rel="stylesheet" href="../dist/pipboy.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet">
    <script src="pip-table.js" defer></script>
    <style>
        body,
        html {
            height: 100%;
            overflow-x: hidden;
            font-family: 'Roboto Mono', monospace;
        }

        #mobile-menu-trigger {
            display: block;
            /* Always visible for toggle */
            position: fixed;
            bottom: 25px;
            right: 25px;
            z-index: 6000;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            box-shadow: 0 0 20px rgba(28, 250, 128, 0.5);
            font-weight: bold;
        }

        .header-nav {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            border-bottom: 2px solid #0c833d;
            padding-bottom: 10px;
        }

        .nav-item {
            padding: 8px 15px;
            cursor: pointer;
            color: #0c833d;
            font-weight: bold;
            text-transform: uppercase;
            transition: all 0.2s;
        }

        .nav-item:hover {
            color: #1cfa80;
            background: rgba(12, 131, 61, 0.1);
        }

        .nav-item.active {
            background: #0c833d;
            color: #052308;
        }

        @media (max-width: 768px) {
            #mobile-menu-trigger {
                display: block;
            }

            .header-nav {
                display: none;
                /* Controlled by JS on mobile */
                flex-direction: column;
                position: fixed;
                bottom: 100px;
                right: 25px;
                background: #052308;
                border: 2px solid #0c833d;
                padding: 15px;
                z-index: 5500;
                box-shadow: 0 0 30px rgba(0, 0, 0, 0.9);
                min-width: 150px;
            }

            .header-nav.open {
                display: flex;
            }
        }
    </style>
</head>

<body class="pip-body pip-crt">

    <!-- BOOT SEQUENCE OVERLAY -->
    <div id="boot-overlay" class="pip-loader-overlay">
        <div class="pip-typewriter pip-anim-fade-in" style="font-size: 2em; margin-bottom: 20px;">PIP-OS TERMINAL v3.1.0
        </div>
        <div class="pip-loader-text pip-anim-fade-in pip-delay-2">INITIALIZING SYSTEM...</div>
        <div class="pip-loader-text pip-anim-fade-in pip-delay-4">CONNECTING TO PIP UI HARDWARE...</div>
        <div class="pip-loader-text pip-anim-fade-in pip-delay-6">ENVIRONMENTAL SENSORS CALIBRATED.</div>
        <button class="pip-btn primary pip-anim-fade-in pip-delay-8"
            onclick="this.parentElement.style.display='none'">ENTER SYSTEM</button>
    </div>


    <div class="pip-container">
        <header style="margin-bottom: 30px;">
            <h1 class="pip-text highlight" style="font-size: 1.8rem; margin-bottom: 5px;">PIP-UI CONSOLE v3.1.0</h1>
            <p class="pip-text subtle">PIP-CORE SERIES 1.0 Alpha | [CONNECTED]</p>

            <nav class="pip-tabs" style="margin-top: 20px;">
                <button class="pip-tab active" data-target="status-screen">STATUS</button>
                <button class="pip-tab" data-target="inv-screen">INVENTORY</button>
                <button class="pip-tab" data-target="data-screen">DATABASE</button>
                <button class="pip-tab" data-target="settings-screen">SETTINGS</button>
            </nav>
        </header>

        <main>
            <!-- STAT SCREEN -->
            <div id="status-screen" class="pip-tab-content active">
                <div class="pip-row">
                    <div class="pip-col-12">
                        <div class="pip-alert warning">
                            <span class="pip-alert-title pip-ghosting" data-text="SYSTEM STATUS: UNSTABLE">SYSTEM
                                STATUS: UNSTABLE</span>
                            <p class="pip-typewriter">Anomalies detected in the CRT controller. Flicker compensation
                                active.</p>
                        </div>
                    </div>
                </div>
                <div class="pip-row">
                    <div class="pip-col-12 pip-col-md-6">
                        <section class="pip-panel">
                            <div class="pip-panel-header">Vital Signs</div>
                            <div class="pip-text highlight">HEALTH: <span class="pip-badge success">NOMINAL</span></div>
                            <div class="pip-progress-container">
                                <div class="pip-progress-bar" style="width: 95%;"></div>
                            </div>

                            <div class="pip-text highlight">STAMINA: <span class="pip-badge info">READY</span></div>
                            <div class="pip-progress-container">
                                <div class="pip-progress-bar animated" style="width: 65%;"></div>
                            </div>

                            <div style="margin-top: 20px;">
                                <div class="pip-loader">SYNCING DATA</div>
                            </div>
                        </section>
                    </div>
                    <div class="pip-col-12 pip-col-md-6">
                        <article class="pip-card">
                            <span class="pip-card-title">Hardware Hazard</span>
                            <p class="pip-text warning">Ambient interference rising in current sector. Environmental
                                scan
                                active.</p>
                            <button class="pip-btn error" style="width: 100%;" onclick="showModal('hazard-modal')">VIEW
                                PROTOCOL</button>
                        </article>

                        <div class="pip-alert error">
                            <span class="pip-alert-title">SYSTEM ERROR</span>
                            <p>Power core depletion imminent. Sector 7 shutdown advised.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- INV SCREEN -->
            <div id="inv-screen" class="pip-tab-content">
                <section class="pip-panel">
                    <div class="pip-panel-header">Asset Management Database</div>

                    <!-- Search Bar -->
                    <div class="pip-table-search">
                        <span class="pip-search-icon">⌕</span>
                        <input type="text" placeholder="Search inventory..." id="inv-search">
                    </div>

                    <!-- Advanced Table with Sorting -->
                    <div class="pip-table-responsive">
                        <table class="pip-table pip-table-hover" id="inventory-table">
                            <thead>
                                <tr>
                                    <th class="sortable">Item</th>
                                    <th class="sortable">Type</th>
                                    <th class="sortable">Weight</th>
                                    <th class="sortable">Value</th>
                                    <th class="sortable">Condition</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Plasma Blaster</td>
                                    <td>WEAP</td>
                                    <td>15.0</td>
                                    <td>1200</td>
                                    <td>95%</td>
                                    <td><span class="pip-badge info">Equipped</span></td>
                                </tr>
                                <tr>
                                    <td>Laser Beam</td>
                                    <td>WEAP</td>
                                    <td>3.5</td>
                                    <td>450</td>
                                    <td>88%</td>
                                    <td><span class="pip-badge">Stored</span></td>
                                </tr>
                                <tr>
                                    <td>Kinetic Rail</td>
                                    <td>WEAP</td>
                                    <td>12.0</td>
                                    <td>800</td>
                                    <td>72%</td>
                                    <td><span class="pip-badge">Stored</span></td>
                                </tr>
                                <tr>
                                    <td>Med-Kit (10)</td>
                                    <td>AID</td>
                                    <td>0.0</td>
                                    <td>400</td>
                                    <td>100%</td>
                                    <td><span class="pip-badge success">Ready</span></td>
                                </tr>
                                <tr>
                                    <td>De-Tox (5)</td>
                                    <td>AID</td>
                                    <td>0.0</td>
                                    <td>250</td>
                                    <td>100%</td>
                                    <td><span class="pip-badge success">Ready</span></td>
                                </tr>
                                <tr>
                                    <td>Shield-X (8)</td>
                                    <td>AID</td>
                                    <td>0.0</td>
                                    <td>160</td>
                                    <td>100%</td>
                                    <td><span class="pip-badge success">Ready</span></td>
                                </tr>
                                <tr>
                                    <td>Tech Suit</td>
                                    <td>APPA</td>
                                    <td>1.0</td>
                                    <td>50</td>
                                    <td>100%</td>
                                    <td><span class="pip-badge info">Equipped</span></td>
                                </tr>
                                <tr>
                                    <td>Guardian Plate</td>
                                    <td>APPA</td>
                                    <td>15.0</td>
                                    <td>950</td>
                                    <td>85%</td>
                                    <td><span class="pip-badge">Stored</span></td>
                                </tr>
                                <tr>
                                    <td>Armor Helmet</td>
                                    <td>APPA</td>
                                    <td>10.0</td>
                                    <td>1500</td>
                                    <td>65%</td>
                                    <td><span class="pip-badge warning">Damaged</span></td>
                                </tr>
                                <tr>
                                    <td>Generic Cola (3)</td>
                                    <td>FOOD</td>
                                    <td>0.3</td>
                                    <td>60</td>
                                    <td>100%</td>
                                    <td><span class="pip-badge success">Fresh</span></td>
                                </tr>
                                <tr>
                                    <td>Purified Water (7)</td>
                                    <td>FOOD</td>
                                    <td>0.5</td>
                                    <td>140</td>
                                    <td>100%</td>
                                    <td><span class="pip-badge success">Fresh</span></td>
                                </tr>
                                <tr>
                                    <td>Potted Meat (2)</td>
                                    <td>FOOD</td>
                                    <td>0.2</td>
                                    <td>20</td>
                                    <td>100%</td>
                                    <td><span class="pip-badge success">Fresh</span></td>
                                </tr>
                                <tr>
                                    <td>Standard Ammo (250)</td>
                                    <td>AMMO</td>
                                    <td>0.8</td>
                                    <td>125</td>
                                    <td>100%</td>
                                    <td><span class="pip-badge">Available</span></td>
                                </tr>
                                <tr>
                                    <td>Power Cell (180)</td>
                                    <td>AMMO</td>
                                    <td>0.0</td>
                                    <td>360</td>
                                    <td>100%</td>
                                    <td><span class="pip-badge">Available</span></td>
                                </tr>
                                <tr>
                                    <td>Slug Shell (45)</td>
                                    <td>AMMO</td>
                                    <td>0.5</td>
                                    <td>90</td>
                                    <td>100%</td>
                                    <td><span class="pip-badge">Available</span></td>
                                </tr>
                                <tr>
                                    <td>Standard Grenade (3)</td>
                                    <td>EXPL</td>
                                    <td>0.5</td>
                                    <td>300</td>
                                    <td>100%</td>
                                    <td><span class="pip-badge warning">Volatile</span></td>
                                </tr>
                                <tr>
                                    <td>Manual Mine (2)</td>
                                    <td>EXPL</td>
                                    <td>0.5</td>
                                    <td>200</td>
                                    <td>100%</td>
                                    <td><span class="pip-badge warning">Volatile</span></td>
                                </tr>
                                <tr>
                                    <td>Lock Tool (15)</td>
                                    <td>MISC</td>
                                    <td>0.0</td>
                                    <td>45</td>
                                    <td>100%</td>
                                    <td><span class="pip-badge">Available</span></td>
                                </tr>
                                <tr>
                                    <td>Security Pin (50)</td>
                                    <td>MISC</td>
                                    <td>0.0</td>
                                    <td>5</td>
                                    <td>100%</td>
                                    <td><span class="pip-badge">Available</span></td>
                                </tr>
                                <tr>
                                    <td>Alloy Plate (12)</td>
                                    <td>MISC</td>
                                    <td>3.0</td>
                                    <td>36</td>
                                    <td>100%</td>
                                    <td><span class="pip-badge">Available</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- Pagination Controls -->
                    <div class="pip-table-pagination">
                        <div class="pip-pagination-info">Showing 1-10 of 20</div>
                        <div class="pip-pagination-controls">
                            <button>‹</button>
                            <button class="active">1</button>
                            <button>2</button>
                            <button>›</button>
                        </div>
                    </div>
                </section>
            </div>

            <!-- DATA SCREEN -->
            <div id="data-screen" class="pip-tab-content">
                <div class="pip-row">
                    <div class="pip-col-12">
                        <section class="pip-panel">
                            <div class="pip-panel-header">System Information</div>

                            <h4 class="pip-text highlight">Component Status</h4>
                            <p class="pip-text">
                                Processor:
                                <span class="pip-tooltip">
                                    Pip-Unified CPU
                                    <span class="pip-tooltip-text">Radiation-hardened processor running at 1.2
                                        GHz</span>
                                </span>
                                <span class="pip-badge success">ONLINE</span>
                            </p>
                            <p class="pip-text">
                                Memory:
                                <span class="pip-tooltip">
                                    64MB RAM
                                    <span class="pip-tooltip-text">Sufficient for all Terminal OS applications</span>
                                </span>
                                <span class="pip-badge info">OPTIMAL</span>
                            </p>
                            <p class="pip-text">
                                Storage:
                                <span class="pip-tooltip">
                                    10GB Solid State
                                    <span class="pip-tooltip-text">Proprietary high-speed storage system</span>
                                </span>
                                <span class="pip-badge warning">78% FULL</span>
                            </p>
                        </section>
                    </div>
                </div>

                <div class="pip-row">
                    <div class="pip-col-12">
                        <h3 class="pip-text highlight" style="margin-bottom: 15px;">Technical Documentation</h3>

                        <div class="pip-accordion">
                            <button class="pip-accordion-header">Hardware Specifications</button>
                            <div class="pip-accordion-content">
                                <div class="pip-accordion-body">
                                    <p class="pip-text">Model: Pip-Terminal v1.0</p>
                                    <p class="pip-text">Manufacturer: Pip Industries</p>
                                    <p class="pip-text">Year: 2026</p>
                                    <p class="pip-text">Power Source: Power Cell (10 year lifespan)</p>
                                </div>
                            </div>
                        </div>

                        <div class="pip-accordion">
                            <button class="pip-accordion-header">Software Version</button>
                            <div class="pip-accordion-content">
                                <div class="pip-accordion-body">
                                    <p class="pip-text">OS: Terminal Unified OS v3.1.0</p>
                                    <p class="pip-text">Build: 2026.01.19</p>
                                    <p class="pip-text">Kernel: Pip-OS 5.12.0-LTS</p>
                                    <p class="pip-text">Last Update: 19 JAN 2026</p>
                                </div>
                            </div>
                        </div>

                        <div class="pip-accordion">
                            <button class="pip-accordion-header">Network Configuration</button>
                            <div class="pip-accordion-content">
                                <div class="pip-accordion-body">
                                    <p class="pip-text">Status: <span class="pip-badge error">DISCONNECTED</span></p>
                                    <p class="pip-text">Last Known Network: Internal Intranet</p>
                                    <p class="pip-text">IP Address: 127.0.0.1</p>
                                    <p class="pip-text warning">Warning: Unable to connect to external networks</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SETTINGS SCREEN -->
            <div id="settings-screen" class="pip-tab-content">
                <div class="pip-row">
                    <div class="pip-col-12 pip-col-md-6">
                        <section class="pip-panel">
                            <div class="pip-panel-header">Hardware Preferences</div>
                            <h4 class="pip-text highlight">Alert Systems</h4>
                            <label class="pip-checkbox-container">
                                Hazard Threshold Alarm
                                <input type="checkbox" checked>
                                <span class="checkmark"></span>
                            </label>
                            <label class="pip-checkbox-container">
                                High Contrast Mode
                                <input type="checkbox">
                                <span class="checkmark"></span>
                            </label>

                            <h4 class="pip-text highlight" style="margin-top: 20px;">Interface Color</h4>
                            <label class="pip-radio-container">
                                Classic Phosphorus
                                <input type="radio" name="color" checked>
                                <span class="checkmark"></span>
                            </label>
                            <label class="pip-radio-container">
                                Nuclear Amber
                                <input type="radio" name="color">
                                <span class="checkmark"></span>
                            </label>
                        </section>
                    </div>
                    <div class="pip-col-12 pip-col-md-6">
                        <section class="pip-panel">
                            <div class="pip-panel-header">Scanline Config</div>
                            <p class="pip-text">Adjust the CRT simulation parameters for optimal viewing comfort.</p>
                            <label class="pip-text">Intensity Level</label>
                            <div class="pip-select-container">
                                <select class="pip-select">
                                    <option>LOW (Minimal)</option>
                                    <option selected>MEDIUM (Standard)</option>
                                    <option>HIGH (Legacy)</option>
                                </select>
                            </div>
                        </section>
                    </div>
                </div>
            </div>
        </main>

        <footer
            style="margin-top: 50px; border-top: 1px solid rgba(12, 131, 61, 0.3); padding-top: 20px; text-align: center;">
            <p class="pip-text subtle">© 2026 PIP UI INDUSTRIES | ALL RIGHTS RESERVED</p>
        </footer>
    </div>

    <!-- MODALS -->
    <div id="hazard-modal" class="pip-modal-overlay">
        <div class="pip-modal">
            <div class="pip-modal-header">
                <h2>HAZARD EMERGENCY</h2>
            </div>
            <p class="pip-text">Hazardous environment detected. Please find the nearest protection arch or consume
                De-Tox
                immediately.</p>
            <div class="pip-modal-footer">
                <button class="pip-btn primary" onclick="hideModal('hazard-modal')">ACKNOWLEDGE</button>
            </div>
        </div>
    </div>

    <script>
        function showModal(id) { document.getElementById(id).classList.add('active'); }
        function hideModal(id) { document.getElementById(id).classList.remove('active'); }

        // Tab Logic
        const tabButtons = document.querySelectorAll('.pip-tab');
        const tabContents = document.querySelectorAll('.pip-tab-content');

        tabButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                const target = btn.getAttribute('data-target');

                tabButtons.forEach(b => b.classList.remove('active'));
                tabContents.forEach(c => c.classList.remove('active'));

                btn.classList.add('active');
                document.getElementById(target).classList.add('active');
            });
        });

        // Accordion Logic
        document.querySelectorAll('.pip-accordion-header').forEach(header => {
            header.addEventListener('click', function () {
                this.classList.toggle('active');
                const content = this.nextElementSibling;

                if (content.style.maxHeight) {
                    content.style.maxHeight = null;
                } else {
                    content.style.maxHeight = content.scrollHeight + "px";
                }
            });
        });

        // Screen Jitter Trigger
        document.addEventListener('click', (e) => {
            const interactive = e.target.closest('button, .pip-tab, a, .pip-card, .pip-panel');
            if (interactive) {
                // Determine what to shake: 
                // 1. If it's a tab, shake the active content
                // 2. Otherwise shake the element itself
                let target = interactive;

                if (interactive.classList.contains('pip-tab')) {
                    const tabID = interactive.getAttribute('data-target');
                    target = document.getElementById(tabID);
                }

                if (target) {
                    target.classList.remove('pip-anim-jitter');
                    void target.offsetWidth; // Trigger reflow
                    target.classList.add('pip-anim-jitter');
                    setTimeout(() => {
                        target.classList.remove('pip-anim-jitter');
                    }, 200);
                }
            }
        });

        // Close modal on overlay click
        document.querySelectorAll('.pip-modal-overlay').forEach(overlay => {
            overlay.addEventListener('click', (e) => {
                if (e.target === overlay) hideModal(overlay.id);
            });
        });

        // Initialize Advanced Table
        document.addEventListener('DOMContentLoaded', () => {
            new PipTable('inventory-table', {
                itemsPerPage: 10,
                sortable: true,
                searchable: true,
                paginated: true
            });
        });
    </script>
</body>

</html>